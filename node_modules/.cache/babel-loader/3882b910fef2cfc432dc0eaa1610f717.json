{"remainingRequest":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\code21\\ruoyi\\ruoyi-ui\\src\\views\\tool\\build\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\src\\views\\tool\\build\\index.vue","mtime":1615086407000},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\babel.config.js","mtime":1615086407000},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1645088179499},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1645088184792}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJHOi9jb2RlMjEvcnVveWkvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJHOi9jb2RlMjEvcnVveWkvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIikpOwoKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJHOi9jb2RlMjEvcnVveWkvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyIpOwoKdmFyIF92dWVkcmFnZ2FibGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInZ1ZWRyYWdnYWJsZSIpKTsKCnZhciBfZmlsZVNhdmVyID0gcmVxdWlyZSgiZmlsZS1zYXZlciIpOwoKdmFyIF9qc0JlYXV0aWZ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJqcy1iZWF1dGlmeSIpKTsKCnZhciBfY2xpcGJvYXJkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJjbGlwYm9hcmQiKSk7Cgp2YXIgX3JlbmRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC91dGlscy9nZW5lcmF0b3IvcmVuZGVyIikpOwoKdmFyIF9SaWdodFBhbmVsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL1JpZ2h0UGFuZWwiKSk7Cgp2YXIgX2NvbmZpZyA9IHJlcXVpcmUoIkAvdXRpbHMvZ2VuZXJhdG9yL2NvbmZpZyIpOwoKdmFyIF9pbmRleCA9IHJlcXVpcmUoIkAvdXRpbHMvaW5kZXgiKTsKCnZhciBfaHRtbCA9IHJlcXVpcmUoIkAvdXRpbHMvZ2VuZXJhdG9yL2h0bWwiKTsKCnZhciBfanMgPSByZXF1aXJlKCJAL3V0aWxzL2dlbmVyYXRvci9qcyIpOwoKdmFyIF9jc3MgPSByZXF1aXJlKCJAL3V0aWxzL2dlbmVyYXRvci9jc3MiKTsKCnZhciBfZHJhd2luZ0RlZmFsdXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdXRpbHMvZ2VuZXJhdG9yL2RyYXdpbmdEZWZhbHV0IikpOwoKdmFyIF9sb2dvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2Fzc2V0cy9sb2dvL2xvZ28ucG5nIikpOwoKdmFyIF9Db2RlVHlwZURpYWxvZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9Db2RlVHlwZURpYWxvZyIpKTsKCnZhciBfRHJhZ2dhYmxlSXRlbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9EcmFnZ2FibGVJdGVtIikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGVtcHR5QWN0aXZlRGF0YSA9IHsKICBzdHlsZToge30sCiAgYXV0b3NpemU6IHt9Cn07CnZhciBvbGRBY3RpdmVJZDsKdmFyIHRlbXBBY3RpdmVEYXRhOwp2YXIgX2RlZmF1bHQgPSB7CiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBfdnVlZHJhZ2dhYmxlLmRlZmF1bHQsCiAgICByZW5kZXI6IF9yZW5kZXIuZGVmYXVsdCwKICAgIFJpZ2h0UGFuZWw6IF9SaWdodFBhbmVsLmRlZmF1bHQsCiAgICBDb2RlVHlwZURpYWxvZzogX0NvZGVUeXBlRGlhbG9nLmRlZmF1bHQsCiAgICBEcmFnZ2FibGVJdGVtOiBfRHJhZ2dhYmxlSXRlbS5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9nbzogX2xvZ28uZGVmYXVsdCwKICAgICAgaWRHbG9iYWw6IDEwMCwKICAgICAgZm9ybUNvbmY6IF9jb25maWcuZm9ybUNvbmYsCiAgICAgIGlucHV0Q29tcG9uZW50czogX2NvbmZpZy5pbnB1dENvbXBvbmVudHMsCiAgICAgIHNlbGVjdENvbXBvbmVudHM6IF9jb25maWcuc2VsZWN0Q29tcG9uZW50cywKICAgICAgbGF5b3V0Q29tcG9uZW50czogX2NvbmZpZy5sYXlvdXRDb21wb25lbnRzLAogICAgICBsYWJlbFdpZHRoOiAxMDAsCiAgICAgIGRyYXdpbmdMaXN0OiBfZHJhd2luZ0RlZmFsdXQuZGVmYXVsdCwKICAgICAgZHJhd2luZ0RhdGE6IHt9LAogICAgICBhY3RpdmVJZDogX2RyYXdpbmdEZWZhbHV0LmRlZmF1bHRbMF0uZm9ybUlkLAogICAgICBkcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZ2VuZXJhdGVDb25mOiBudWxsLAogICAgICBzaG93RmlsZU5hbWU6IGZhbHNlLAogICAgICBhY3RpdmVEYXRhOiBfZHJhd2luZ0RlZmFsdXQuZGVmYXVsdFswXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDogewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXMKICAgICdhY3RpdmVEYXRhLmxhYmVsJzogZnVuY3Rpb24gYWN0aXZlRGF0YUxhYmVsKHZhbCwgb2xkVmFsKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIgPT09IHVuZGVmaW5lZCB8fCAhdGhpcy5hY3RpdmVEYXRhLnRhZyB8fCBvbGRBY3RpdmVJZCAhPT0gdGhpcy5hY3RpdmVJZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyID0gdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyLnJlcGxhY2Uob2xkVmFsLCAnJykgKyB2YWw7CiAgICB9LAogICAgYWN0aXZlSWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBvbGRBY3RpdmVJZCA9IHZhbDsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgY2xpcGJvYXJkID0gbmV3IF9jbGlwYm9hcmQuZGVmYXVsdCgnI2NvcHlOb2RlJywgewogICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KHRyaWdnZXIpIHsKICAgICAgICB2YXIgY29kZVN0ciA9IF90aGlzLmdlbmVyYXRlQ29kZSgpOwoKICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgIG1lc3NhZ2U6ICfku6PnoIHlt7LlpI3liLbliLDliarliIfmnb/vvIzlj6/nspjotLTjgIInLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBjb2RlU3RyOwogICAgICB9CiAgICB9KTsKICAgIGNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5Luj56CB5aSN5Yi25aSx6LSlJyk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFjdGl2ZUZvcm1JdGVtOiBmdW5jdGlvbiBhY3RpdmVGb3JtSXRlbShlbGVtZW50KSB7CiAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IGVsZW1lbnQ7CiAgICAgIHRoaXMuYWN0aXZlSWQgPSBlbGVtZW50LmZvcm1JZDsKICAgIH0sCiAgICBvbkVuZDogZnVuY3Rpb24gb25FbmQob2JqLCBhKSB7CiAgICAgIGlmIChvYmouZnJvbSAhPT0gb2JqLnRvKSB7CiAgICAgICAgdGhpcy5hY3RpdmVEYXRhID0gdGVtcEFjdGl2ZURhdGE7CiAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRoaXMuaWRHbG9iYWw7CiAgICAgIH0KICAgIH0sCiAgICBhZGRDb21wb25lbnQ6IGZ1bmN0aW9uIGFkZENvbXBvbmVudChpdGVtKSB7CiAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVDb21wb25lbnQoaXRlbSk7CiAgICAgIHRoaXMuZHJhd2luZ0xpc3QucHVzaChjbG9uZSk7CiAgICAgIHRoaXMuYWN0aXZlRm9ybUl0ZW0oY2xvbmUpOwogICAgfSwKICAgIGNsb25lQ29tcG9uZW50OiBmdW5jdGlvbiBjbG9uZUNvbXBvbmVudChvcmlnaW4pIHsKICAgICAgdmFyIGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW4pKTsKICAgICAgY2xvbmUuZm9ybUlkID0gKyt0aGlzLmlkR2xvYmFsOwogICAgICBjbG9uZS5zcGFuID0gX2NvbmZpZy5mb3JtQ29uZi5zcGFuOwogICAgICBjbG9uZS5yZW5kZXJLZXkgPSArbmV3IERhdGUoKTsgLy8g5pS55Y+YcmVuZGVyS2V55ZCO5Y+v5Lul5a6e546w5by65Yi25pu05paw57uE5Lu2CgogICAgICBpZiAoIWNsb25lLmxheW91dCkgY2xvbmUubGF5b3V0ID0gJ2NvbEZvcm1JdGVtJzsKCiAgICAgIGlmIChjbG9uZS5sYXlvdXQgPT09ICdjb2xGb3JtSXRlbScpIHsKICAgICAgICBjbG9uZS52TW9kZWwgPSAiZmllbGQiLmNvbmNhdCh0aGlzLmlkR2xvYmFsKTsKICAgICAgICBjbG9uZS5wbGFjZWhvbGRlciAhPT0gdW5kZWZpbmVkICYmIChjbG9uZS5wbGFjZWhvbGRlciArPSBjbG9uZS5sYWJlbCk7CiAgICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZTsKICAgICAgfSBlbHNlIGlmIChjbG9uZS5sYXlvdXQgPT09ICdyb3dGb3JtSXRlbScpIHsKICAgICAgICBkZWxldGUgY2xvbmUubGFiZWw7CiAgICAgICAgY2xvbmUuY29tcG9uZW50TmFtZSA9ICJyb3ciLmNvbmNhdCh0aGlzLmlkR2xvYmFsKTsKICAgICAgICBjbG9uZS5ndXR0ZXIgPSB0aGlzLmZvcm1Db25mLmd1dHRlcjsKICAgICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lOwogICAgICB9CgogICAgICByZXR1cm4gdGVtcEFjdGl2ZURhdGE7CiAgICB9LAogICAgQXNzZW1ibGVGb3JtRGF0YTogZnVuY3Rpb24gQXNzZW1ibGVGb3JtRGF0YSgpIHsKICAgICAgdGhpcy5mb3JtRGF0YSA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7CiAgICAgICAgZmllbGRzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZHJhd2luZ0xpc3QpKQogICAgICB9LCB0aGlzLmZvcm1Db25mKTsKICAgIH0sCiAgICBnZW5lcmF0ZTogZnVuY3Rpb24gZ2VuZXJhdGUoZGF0YSkgewogICAgICB2YXIgZnVuYyA9IHRoaXNbImV4ZWMiLmNvbmNhdCgoMCwgX2luZGV4LnRpdGxlQ2FzZSkodGhpcy5vcGVyYXRpb25UeXBlKSldOwogICAgICB0aGlzLmdlbmVyYXRlQ29uZiA9IGRhdGE7CiAgICAgIGZ1bmMgJiYgZnVuYyhkYXRhKTsKICAgIH0sCiAgICBleGVjUnVuOiBmdW5jdGlvbiBleGVjUnVuKGRhdGEpIHsKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCk7CiAgICAgIHRoaXMuZHJhd2VyVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZXhlY0Rvd25sb2FkOiBmdW5jdGlvbiBleGVjRG93bmxvYWQoZGF0YSkgewogICAgICB2YXIgY29kZVN0ciA9IHRoaXMuZ2VuZXJhdGVDb2RlKCk7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvZGVTdHJdLCB7CiAgICAgICAgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcKICAgICAgfSk7CiAgICAgICgwLCBfZmlsZVNhdmVyLnNhdmVBcykoYmxvYiwgZGF0YS5maWxlTmFtZSk7CiAgICB9LAogICAgZXhlY0NvcHk6IGZ1bmN0aW9uIGV4ZWNDb3B5KGRhdGEpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHlOb2RlJykuY2xpY2soKTsKICAgIH0sCiAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5riF56m65omA5pyJ57uE5Lu25ZCX77yfJywgJ+aPkOekuicsIHsKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmRyYXdpbmdMaXN0ID0gW107CiAgICAgIH0pOwogICAgfSwKICAgIGRyYXdpbmdJdGVtQ29weTogZnVuY3Rpb24gZHJhd2luZ0l0ZW1Db3B5KGl0ZW0sIHBhcmVudCkgewogICAgICB2YXIgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgY2xvbmUgPSB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNsb25lKTsKICAgICAgcGFyZW50LnB1c2goY2xvbmUpOwogICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKGNsb25lKTsKICAgIH0sCiAgICBjcmVhdGVJZEFuZEtleTogZnVuY3Rpb24gY3JlYXRlSWRBbmRLZXkoaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGl0ZW0uZm9ybUlkID0gKyt0aGlzLmlkR2xvYmFsOwogICAgICBpdGVtLnJlbmRlcktleSA9ICtuZXcgRGF0ZSgpOwoKICAgICAgaWYgKGl0ZW0ubGF5b3V0ID09PSAnY29sRm9ybUl0ZW0nKSB7CiAgICAgICAgaXRlbS52TW9kZWwgPSAiZmllbGQiLmNvbmNhdCh0aGlzLmlkR2xvYmFsKTsKICAgICAgfSBlbHNlIGlmIChpdGVtLmxheW91dCA9PT0gJ3Jvd0Zvcm1JdGVtJykgewogICAgICAgIGl0ZW0uY29tcG9uZW50TmFtZSA9ICJyb3ciLmNvbmNhdCh0aGlzLmlkR2xvYmFsKTsKICAgICAgfQoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jaGlsZHJlbikpIHsKICAgICAgICBpdGVtLmNoaWxkcmVuID0gaXRlbS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkSXRlbSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5jcmVhdGVJZEFuZEtleShjaGlsZEl0ZW0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaXRlbTsKICAgIH0sCiAgICBkcmF3aW5nSXRlbURlbGV0ZTogZnVuY3Rpb24gZHJhd2luZ0l0ZW1EZWxldGUoaW5kZXgsIHBhcmVudCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHBhcmVudC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxlbiA9IF90aGlzNC5kcmF3aW5nTGlzdC5sZW5ndGg7CgogICAgICAgIGlmIChsZW4pIHsKICAgICAgICAgIF90aGlzNC5hY3RpdmVGb3JtSXRlbShfdGhpczQuZHJhd2luZ0xpc3RbbGVuIC0gMV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVDb2RlOiBmdW5jdGlvbiBnZW5lcmF0ZUNvZGUoKSB7CiAgICAgIHZhciB0eXBlID0gdGhpcy5nZW5lcmF0ZUNvbmYudHlwZTsKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCk7CiAgICAgIHZhciBzY3JpcHQgPSAoMCwgX2h0bWwudnVlU2NyaXB0KSgoMCwgX2pzLm1ha2VVcEpzKSh0aGlzLmZvcm1EYXRhLCB0eXBlKSk7CiAgICAgIHZhciBodG1sID0gKDAsIF9odG1sLnZ1ZVRlbXBsYXRlKSgoMCwgX2h0bWwubWFrZVVwSHRtbCkodGhpcy5mb3JtRGF0YSwgdHlwZSkpOwogICAgICB2YXIgY3NzID0gKDAsIF9odG1sLmNzc1N0eWxlKSgoMCwgX2Nzcy5tYWtlVXBDc3MpKHRoaXMuZm9ybURhdGEpKTsKICAgICAgcmV0dXJuIF9qc0JlYXV0aWZ5LmRlZmF1bHQuaHRtbChodG1sICsgc2NyaXB0ICsgY3NzLCBfaW5kZXguYmVhdXRpZmllckNvbmYuaHRtbCk7CiAgICB9LAogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IHRydWU7CiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdkb3dubG9hZCc7CiAgICB9LAogICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc2hvd0ZpbGVOYW1lID0gZmFsc2U7CiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdydW4nOwogICAgfSwKICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc2hvd0ZpbGVOYW1lID0gZmFsc2U7CiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdjb3B5JzsKICAgIH0sCiAgICB0YWdDaGFuZ2U6IGZ1bmN0aW9uIHRhZ0NoYW5nZShuZXdUYWcpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBuZXdUYWcgPSB0aGlzLmNsb25lQ29tcG9uZW50KG5ld1RhZyk7CiAgICAgIG5ld1RhZy52TW9kZWwgPSB0aGlzLmFjdGl2ZURhdGEudk1vZGVsOwogICAgICBuZXdUYWcuZm9ybUlkID0gdGhpcy5hY3RpdmVJZDsKICAgICAgbmV3VGFnLnNwYW4gPSB0aGlzLmFjdGl2ZURhdGEuc3BhbjsKICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlRGF0YS50YWc7CiAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZURhdGEudGFnSWNvbjsKICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlRGF0YS5kb2N1bWVudDsKICAgICAgT2JqZWN0LmtleXMobmV3VGFnKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoX3RoaXM1LmFjdGl2ZURhdGFba2V5XSAhPT0gdW5kZWZpbmVkICYmICgwLCBfdHlwZW9mMi5kZWZhdWx0KShfdGhpczUuYWN0aXZlRGF0YVtrZXldKSA9PT0gKDAsIF90eXBlb2YyLmRlZmF1bHQpKG5ld1RhZ1trZXldKSkgewogICAgICAgICAgbmV3VGFnW2tleV0gPSBfdGhpczUuYWN0aXZlRGF0YVtrZXldOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IG5ld1RhZzsKICAgICAgdGhpcy51cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIHRoaXMuZHJhd2luZ0xpc3QpOwogICAgfSwKICAgIHVwZGF0ZURyYXdpbmdMaXN0OiBmdW5jdGlvbiB1cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIGxpc3QpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgaW5kZXggPSBsaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmZvcm1JZCA9PT0gX3RoaXM2LmFjdGl2ZUlkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEsIG5ld1RhZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmNoaWxkcmVuKSkgX3RoaXM2LnVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgaXRlbS5jaGlsZHJlbik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAMA;;AAGA;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA2BA,IAAMA,eAAe,GAAG;AAAEC,OAAK,EAAE,EAAT;AAAaC,UAAQ,EAAE;AAAvB,CAAxB;AACA,IAAIC,WAAJ;AACA,IAAIC,cAAJ;eAEe;AACbC,YAAU,EAAE;AACVC,aAAS,EAATA,qBADU;AAEVC,UAAM,EAANA,eAFU;AAGVC,cAAU,EAAVA,mBAHU;AAIVC,kBAAc,EAAdA,uBAJU;AAKVC,iBAAa,EAAbA;AALU,GADC;AAQbC,MARa,kBAQN;AACL,WAAO;AACLC,UAAI,EAAJA,aADK;AAELC,cAAQ,EAAE,GAFL;AAGLC,cAAQ,EAARA,gBAHK;AAILC,qBAAe,EAAfA,uBAJK;AAKLC,sBAAgB,EAAhBA,wBALK;AAMLC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","names":["emptyActiveData","style","autosize","oldActiveId","tempActiveData","components","draggable","render","RightPanel","CodeTypeDialog","DraggableItem","data","logo","idGlobal","formConf","inputComponents","selectComponents","layoutComponents","labelWidth","drawingList","drawingDefalut","drawingData","activeId","formId","drawerVisible","formData","dialogVisible","generateConf","showFileName","activeData","computed","watch","val","oldVal","placeholder","undefined","tag","replace","handler","immediate","mounted","clipboard","ClipboardJS","text","codeStr","generateCode","$notify","title","message","type","on","$message","error","methods","activeFormItem","element","onEnd","obj","a","from","to","addComponent","item","clone","cloneComponent","push","origin","JSON","parse","stringify","span","renderKey","Date","layout","vModel","label","componentName","gutter","AssembleFormData","fields","generate","func","operationType","execRun","execDownload","blob","Blob","fileName","execCopy","document","getElementById","click","empty","$confirm","then","drawingItemCopy","parent","createIdAndKey","Array","isArray","children","map","childItem","drawingItemDelete","index","splice","$nextTick","len","length","script","html","css","beautifier","beautifierConf","download","run","copy","tagChange","newTag","tagIcon","Object","keys","forEach","key","updateDrawingList","list","findIndex"],"sourceRoot":"src/views/tool/build","sources":["G:/code21/ruoyi/ruoyi-ui/src/views/tool/build/index.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport draggable from 'vuedraggable'\r\nimport { saveAs } from 'file-saver'\r\nimport beautifier from 'js-beautify'\r\nimport ClipboardJS from 'clipboard'\r\nimport render from '@/utils/generator/render'\r\nimport RightPanel from './RightPanel'\r\nimport {\r\n  inputComponents,\r\n  selectComponents,\r\n  layoutComponents,\r\n  formConf\r\n} from '@/utils/generator/config'\r\nimport {\r\n  exportDefault, beautifierConf, isNumberStr, titleCase\r\n} from '@/utils/index'\r\nimport {\r\n  makeUpHtml, vueTemplate, vueScript, cssStyle\r\n} from '@/utils/generator/html'\r\nimport { makeUpJs } from '@/utils/generator/js'\r\nimport { makeUpCss } from '@/utils/generator/css'\r\nimport drawingDefalut from '@/utils/generator/drawingDefalut'\r\nimport logo from '@/assets/logo/logo.png'\r\nimport CodeTypeDialog from './CodeTypeDialog'\r\nimport DraggableItem from './DraggableItem'\r\n\r\nconst emptyActiveData = { style: {}, autosize: {} }\r\nlet oldActiveId\r\nlet tempActiveData\r\n\r\nexport default {\r\n  components: {\r\n    draggable,\r\n    render,\r\n    RightPanel,\r\n    CodeTypeDialog,\r\n    DraggableItem\r\n  },\r\n  data() {\r\n    return {\r\n      logo,\r\n      idGlobal: 100,\r\n      formConf,\r\n      inputComponents,\r\n      selectComponents,\r\n      layoutComponents,\r\n      labelWidth: 100,\r\n      drawingList: drawingDefalut,\r\n      drawingData: {},\r\n      activeId: drawingDefalut[0].formId,\r\n      drawerVisible: false,\r\n      formData: {},\r\n      dialogVisible: false,\r\n      generateConf: null,\r\n      showFileName: false,\r\n      activeData: drawingDefalut[0]\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  watch: {\r\n    // eslint-disable-next-line func-names\r\n    'activeData.label': function (val, oldVal) {\r\n      if (\r\n        this.activeData.placeholder === undefined\r\n        || !this.activeData.tag\r\n        || oldActiveId !== this.activeId\r\n      ) {\r\n        return\r\n      }\r\n      this.activeData.placeholder = this.activeData.placeholder.replace(oldVal, '') + val\r\n    },\r\n    activeId: {\r\n      handler(val) {\r\n        oldActiveId = val\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {\r\n    const clipboard = new ClipboardJS('#copyNode', {\r\n      text: trigger => {\r\n        const codeStr = this.generateCode()\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '代码已复制到剪切板，可粘贴。',\r\n          type: 'success'\r\n        })\r\n        return codeStr\r\n      }\r\n    })\r\n    clipboard.on('error', e => {\r\n      this.$message.error('代码复制失败')\r\n    })\r\n  },\r\n  methods: {\r\n    activeFormItem(element) {\r\n      this.activeData = element\r\n      this.activeId = element.formId\r\n    },\r\n    onEnd(obj, a) {\r\n      if (obj.from !== obj.to) {\r\n        this.activeData = tempActiveData\r\n        this.activeId = this.idGlobal\r\n      }\r\n    },\r\n    addComponent(item) {\r\n      const clone = this.cloneComponent(item)\r\n      this.drawingList.push(clone)\r\n      this.activeFormItem(clone)\r\n    },\r\n    cloneComponent(origin) {\r\n      const clone = JSON.parse(JSON.stringify(origin))\r\n      clone.formId = ++this.idGlobal\r\n      clone.span = formConf.span\r\n      clone.renderKey = +new Date() // 改变renderKey后可以实现强制更新组件\r\n      if (!clone.layout) clone.layout = 'colFormItem'\r\n      if (clone.layout === 'colFormItem') {\r\n        clone.vModel = `field${this.idGlobal}`\r\n        clone.placeholder !== undefined && (clone.placeholder += clone.label)\r\n        tempActiveData = clone\r\n      } else if (clone.layout === 'rowFormItem') {\r\n        delete clone.label\r\n        clone.componentName = `row${this.idGlobal}`\r\n        clone.gutter = this.formConf.gutter\r\n        tempActiveData = clone\r\n      }\r\n      return tempActiveData\r\n    },\r\n    AssembleFormData() {\r\n      this.formData = {\r\n        fields: JSON.parse(JSON.stringify(this.drawingList)),\r\n        ...this.formConf\r\n      }\r\n    },\r\n    generate(data) {\r\n      const func = this[`exec${titleCase(this.operationType)}`]\r\n      this.generateConf = data\r\n      func && func(data)\r\n    },\r\n    execRun(data) {\r\n      this.AssembleFormData()\r\n      this.drawerVisible = true\r\n    },\r\n    execDownload(data) {\r\n      const codeStr = this.generateCode()\r\n      const blob = new Blob([codeStr], { type: 'text/plain;charset=utf-8' })\r\n      saveAs(blob, data.fileName)\r\n    },\r\n    execCopy(data) {\r\n      document.getElementById('copyNode').click()\r\n    },\r\n    empty() {\r\n      this.$confirm('确定要清空所有组件吗？', '提示', { type: 'warning' }).then(\r\n        () => {\r\n          this.drawingList = []\r\n        }\r\n      )\r\n    },\r\n    drawingItemCopy(item, parent) {\r\n      let clone = JSON.parse(JSON.stringify(item))\r\n      clone = this.createIdAndKey(clone)\r\n      parent.push(clone)\r\n      this.activeFormItem(clone)\r\n    },\r\n    createIdAndKey(item) {\r\n      item.formId = ++this.idGlobal\r\n      item.renderKey = +new Date()\r\n      if (item.layout === 'colFormItem') {\r\n        item.vModel = `field${this.idGlobal}`\r\n      } else if (item.layout === 'rowFormItem') {\r\n        item.componentName = `row${this.idGlobal}`\r\n      }\r\n      if (Array.isArray(item.children)) {\r\n        item.children = item.children.map(childItem => this.createIdAndKey(childItem))\r\n      }\r\n      return item\r\n    },\r\n    drawingItemDelete(index, parent) {\r\n      parent.splice(index, 1)\r\n      this.$nextTick(() => {\r\n        const len = this.drawingList.length\r\n        if (len) {\r\n          this.activeFormItem(this.drawingList[len - 1])\r\n        }\r\n      })\r\n    },\r\n    generateCode() {\r\n      const { type } = this.generateConf\r\n      this.AssembleFormData()\r\n      const script = vueScript(makeUpJs(this.formData, type))\r\n      const html = vueTemplate(makeUpHtml(this.formData, type))\r\n      const css = cssStyle(makeUpCss(this.formData))\r\n      return beautifier.html(html + script + css, beautifierConf.html)\r\n    },\r\n    download() {\r\n      this.dialogVisible = true\r\n      this.showFileName = true\r\n      this.operationType = 'download'\r\n    },\r\n    run() {\r\n      this.dialogVisible = true\r\n      this.showFileName = false\r\n      this.operationType = 'run'\r\n    },\r\n    copy() {\r\n      this.dialogVisible = true\r\n      this.showFileName = false\r\n      this.operationType = 'copy'\r\n    },\r\n    tagChange(newTag) {\r\n      newTag = this.cloneComponent(newTag)\r\n      newTag.vModel = this.activeData.vModel\r\n      newTag.formId = this.activeId\r\n      newTag.span = this.activeData.span\r\n      delete this.activeData.tag\r\n      delete this.activeData.tagIcon\r\n      delete this.activeData.document\r\n      Object.keys(newTag).forEach(key => {\r\n        if (this.activeData[key] !== undefined\r\n          && typeof this.activeData[key] === typeof newTag[key]) {\r\n          newTag[key] = this.activeData[key]\r\n        }\r\n      })\r\n      this.activeData = newTag\r\n      this.updateDrawingList(newTag, this.drawingList)\r\n    },\r\n    updateDrawingList(newTag, list) {\r\n      const index = list.findIndex(item => item.formId === this.activeId)\r\n      if (index > -1) {\r\n        list.splice(index, 1, newTag)\r\n      } else {\r\n        list.forEach(item => {\r\n          if (Array.isArray(item.children)) this.updateDrawingList(newTag, item.children)\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}