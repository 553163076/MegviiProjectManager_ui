{"remainingRequest":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\code21\\ruoyi\\ruoyi-ui\\src\\components\\HeaderSearch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\src\\components\\HeaderSearch\\index.vue","mtime":1615086407000},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\babel.config.js","mtime":1615086407000},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1645088179499},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1645088184792}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJHOi9jb2RlMjEvcnVveWkvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkc6L2NvZGUyMS9ydW95aS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcyIpKTsKCnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkc6L2NvZGUyMS9ydW95aS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKdmFyIF9mdXNlTWluID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJmdXNlLmpzL2Rpc3QvZnVzZS5taW4uanMiKSk7Cgp2YXIgX3BhdGggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInBhdGgiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBmdXNlIGlzIGEgbGlnaHR3ZWlnaHQgZnV6enktc2VhcmNoIG1vZHVsZQovLyBtYWtlIHNlYXJjaCByZXN1bHRzIG1vcmUgaW4gbGluZSB3aXRoIGV4cGVjdGF0aW9ucwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ0hlYWRlclNlYXJjaCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBzZWFyY2hQb29sOiBbXSwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGZ1c2U6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3V0ZXM6IGZ1bmN0aW9uIHJvdXRlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMucGVybWlzc2lvbl9yb3V0ZXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcm91dGVzOiBmdW5jdGlvbiByb3V0ZXMoKSB7CiAgICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogICAgfSwKICAgIHNlYXJjaFBvb2w6IGZ1bmN0aW9uIHNlYXJjaFBvb2wobGlzdCkgewogICAgICB0aGlzLmluaXRGdXNlKGxpc3QpOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3codmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93OwoKICAgICAgaWYgKHRoaXMuc2hvdykgewogICAgICAgIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0ICYmIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0LmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0ICYmIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0LmJsdXIoKTsKICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgfSwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNodHRwKHZhbC5wYXRoKSkgewogICAgICAgIC8vIGh0dHAocyk6Ly8g6Lev5b6E5paw56qX5Y+j5omT5byACiAgICAgICAgd2luZG93Lm9wZW4odmFsLnBhdGgsICJfYmxhbmsiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh2YWwucGF0aCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VhcmNoID0gJyc7CiAgICAgIHRoaXMub3B0aW9ucyA9IFtdOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2hvdyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RnVzZTogZnVuY3Rpb24gaW5pdEZ1c2UobGlzdCkgewogICAgICB0aGlzLmZ1c2UgPSBuZXcgX2Z1c2VNaW4uZGVmYXVsdChsaXN0LCB7CiAgICAgICAgc2hvdWxkU29ydDogdHJ1ZSwKICAgICAgICB0aHJlc2hvbGQ6IDAuNCwKICAgICAgICBsb2NhdGlvbjogMCwKICAgICAgICBkaXN0YW5jZTogMTAwLAogICAgICAgIG1heFBhdHRlcm5MZW5ndGg6IDMyLAogICAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogMSwKICAgICAgICBrZXlzOiBbewogICAgICAgICAgbmFtZTogJ3RpdGxlJywKICAgICAgICAgIHdlaWdodDogMC43CiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ3BhdGgnLAogICAgICAgICAgd2VpZ2h0OiAwLjMKICAgICAgICB9XQogICAgICB9KTsKICAgIH0sCiAgICAvLyBGaWx0ZXIgb3V0IHRoZSByb3V0ZXMgdGhhdCBjYW4gYmUgZGlzcGxheWVkIGluIHRoZSBzaWRlYmFyCiAgICAvLyBBbmQgZ2VuZXJhdGUgdGhlIGludGVybmF0aW9uYWxpemVkIHRpdGxlCiAgICBnZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gZ2VuZXJhdGVSb3V0ZXMocm91dGVzKSB7CiAgICAgIHZhciBiYXNlUGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJy8nOwogICAgICB2YXIgcHJlZml4VGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdOwogICAgICB2YXIgcmVzID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KShyb3V0ZXMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcm91dGVyID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgLy8gc2tpcCBoaWRkZW4gcm91dGVyCiAgICAgICAgICBpZiAocm91dGVyLmhpZGRlbikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgcGF0aDogIXRoaXMuaXNodHRwKHJvdXRlci5wYXRoKSA/IF9wYXRoLmRlZmF1bHQucmVzb2x2ZShiYXNlUGF0aCwgcm91dGVyLnBhdGgpIDogcm91dGVyLnBhdGgsCiAgICAgICAgICAgIHRpdGxlOiAoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KShwcmVmaXhUaXRsZSkKICAgICAgICAgIH07CgogICAgICAgICAgaWYgKHJvdXRlci5tZXRhICYmIHJvdXRlci5tZXRhLnRpdGxlKSB7CiAgICAgICAgICAgIGRhdGEudGl0bGUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkoZGF0YS50aXRsZSksIFtyb3V0ZXIubWV0YS50aXRsZV0pOwoKICAgICAgICAgICAgaWYgKHJvdXRlci5yZWRpcmVjdCAhPT0gJ25vUmVkaXJlY3QnKSB7CiAgICAgICAgICAgICAgLy8gb25seSBwdXNoIHRoZSByb3V0ZXMgd2l0aCB0aXRsZQogICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogbmVlZCB0byBleGNsdWRlIHBhcmVudCByb3V0ZXIgd2l0aG91dCByZWRpcmVjdAogICAgICAgICAgICAgIHJlcy5wdXNoKGRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIHJlY3Vyc2l2ZSBjaGlsZCByb3V0ZXMKCgogICAgICAgICAgaWYgKHJvdXRlci5jaGlsZHJlbikgewogICAgICAgICAgICB2YXIgdGVtcFJvdXRlcyA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXMocm91dGVyLmNoaWxkcmVuLCBkYXRhLnBhdGgsIGRhdGEudGl0bGUpOwoKICAgICAgICAgICAgaWYgKHRlbXBSb3V0ZXMubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgICByZXMgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkocmVzKSwgKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkodGVtcFJvdXRlcykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXM7CiAgICB9LAogICAgcXVlcnlTZWFyY2g6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7CiAgICAgIGlmIChxdWVyeSAhPT0gJycpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmZ1c2Uuc2VhcmNoKHF1ZXJ5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXTsKICAgICAgfQogICAgfSwKICAgIGlzaHR0cDogZnVuY3Rpb24gaXNodHRwKHVybCkgewogICAgICByZXR1cm4gdXJsLmluZGV4T2YoJ2h0dHA6Ly8nKSAhPT0gLTEgfHwgdXJsLmluZGV4T2YoJ2h0dHBzOi8vJykgIT09IC0xOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":"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","names":["name","data","search","options","searchPool","show","fuse","undefined","computed","routes","$store","getters","permission_routes","watch","generateRoutes","list","initFuse","value","document","body","addEventListener","close","removeEventListener","mounted","methods","click","$refs","headerSearchSelect","focus","blur","change","val","ishttp","path","window","open","$router","push","$nextTick","Fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","weight","basePath","prefixTitle","res","router","hidden","resolve","title","meta","redirect","children","tempRoutes","length","querySearch","query","url","indexOf"],"sourceRoot":"src/components/HeaderSearch","sources":["G:/code21/ruoyi/ruoyi-ui/src/components/HeaderSearch/index.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// fuse is a lightweight fuzzy-search module\r\n// make search results more in line with expectations\r\nimport Fuse from 'fuse.js/dist/fuse.min.js'\r\nimport path from 'path'\r\n\r\nexport default {\r\n  name: 'HeaderSearch',\r\n  data() {\r\n    return {\r\n      search: '',\r\n      options: [],\r\n      searchPool: [],\r\n      show: false,\r\n      fuse: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    routes() {\r\n      return this.$store.getters.permission_routes\r\n    }\r\n  },\r\n  watch: {\r\n    routes() {\r\n      this.searchPool = this.generateRoutes(this.routes)\r\n    },\r\n    searchPool(list) {\r\n      this.initFuse(list)\r\n    },\r\n    show(value) {\r\n      if (value) {\r\n        document.body.addEventListener('click', this.close)\r\n      } else {\r\n        document.body.removeEventListener('click', this.close)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.searchPool = this.generateRoutes(this.routes)\r\n  },\r\n  methods: {\r\n    click() {\r\n      this.show = !this.show\r\n      if (this.show) {\r\n        this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.focus()\r\n      }\r\n    },\r\n    close() {\r\n      this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.blur()\r\n      this.options = []\r\n      this.show = false\r\n    },\r\n    change(val) {\r\n      if(this.ishttp(val.path)) {\r\n        // http(s):// 路径新窗口打开\r\n        window.open(val.path, \"_blank\");\r\n      } else {\r\n        this.$router.push(val.path)\r\n      }\r\n      this.search = ''\r\n      this.options = []\r\n      this.$nextTick(() => {\r\n        this.show = false\r\n      })\r\n    },\r\n    initFuse(list) {\r\n      this.fuse = new Fuse(list, {\r\n        shouldSort: true,\r\n        threshold: 0.4,\r\n        location: 0,\r\n        distance: 100,\r\n        maxPatternLength: 32,\r\n        minMatchCharLength: 1,\r\n        keys: [{\r\n          name: 'title',\r\n          weight: 0.7\r\n        }, {\r\n          name: 'path',\r\n          weight: 0.3\r\n        }]\r\n      })\r\n    },\r\n    // Filter out the routes that can be displayed in the sidebar\r\n    // And generate the internationalized title\r\n    generateRoutes(routes, basePath = '/', prefixTitle = []) {\r\n      let res = []\r\n\r\n      for (const router of routes) {\r\n        // skip hidden router\r\n        if (router.hidden) { continue }\r\n\r\n        const data = {\r\n          path: !this.ishttp(router.path) ? path.resolve(basePath, router.path) : router.path,\r\n          title: [...prefixTitle]\r\n        }\r\n\r\n        if (router.meta && router.meta.title) {\r\n          data.title = [...data.title, router.meta.title]\r\n\r\n          if (router.redirect !== 'noRedirect') {\r\n            // only push the routes with title\r\n            // special case: need to exclude parent router without redirect\r\n            res.push(data)\r\n          }\r\n        }\r\n\r\n        // recursive child routes\r\n        if (router.children) {\r\n          const tempRoutes = this.generateRoutes(router.children, data.path, data.title)\r\n          if (tempRoutes.length >= 1) {\r\n            res = [...res, ...tempRoutes]\r\n          }\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    querySearch(query) {\r\n      if (query !== '') {\r\n        this.options = this.fuse.search(query)\r\n      } else {\r\n        this.options = []\r\n      }\r\n    },\r\n    ishttp(url) {\r\n      return url.indexOf('http://') !== -1 || url.indexOf('https://') !== -1\r\n    }\r\n  }\r\n}\r\n"]}]}