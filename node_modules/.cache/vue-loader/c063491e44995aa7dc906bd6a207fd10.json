{"remainingRequest":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\code21\\ruoyi\\ruoyi-ui\\src\\components\\Editor\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\src\\components\\Editor\\index.vue","mtime":1615086407000},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1645088179499},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645088178179},{"path":"G:\\code21\\ruoyi\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1645088184792}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBRdWlsbCBmcm9tICJxdWlsbCI7CmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5jb3JlLmNzcyI7CmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5zbm93LmNzcyI7CmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWRpdG9yIiwKICBwcm9wczogewogICAgLyog57yW6L6R5Zmo55qE5YaF5a65ICovCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICAgIC8qIOmrmOW6piAqLwogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICAvKiDmnIDlsI/pq5jluqYgKi8KICAgIG1pbkhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgLyog5Y+q6K+7ICovCiAgICByZWFkT25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBRdWlsbDogbnVsbCwKICAgICAgY3VycmVudFZhbHVlOiAiIiwKICAgICAgb3B0aW9uczogewogICAgICAgIHRoZW1lOiAic25vdyIsCiAgICAgICAgYm91bmRzOiBkb2N1bWVudC5ib2R5LAogICAgICAgIGRlYnVnOiAid2FybiIsCiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgLy8g5bel5YW35qCP6YWN572uCiAgICAgICAgICB0b29sYmFyOiBbCiAgICAgICAgICAgIFsiYm9sZCIsICJpdGFsaWMiLCAidW5kZXJsaW5lIiwgInN0cmlrZSJdLCAgICAgICAvLyDliqDnspcg5pac5L2TIOS4i+WIkue6vyDliKDpmaTnur8KICAgICAgICAgICAgWyJibG9ja3F1b3RlIiwgImNvZGUtYmxvY2siXSwgICAgICAgICAgICAgICAgICAgIC8vIOW8leeUqCAg5Luj56CB5Z2XCiAgICAgICAgICAgIFt7IGxpc3Q6ICJvcmRlcmVkIiB9LCB7IGxpc3Q6ICJidWxsZXQiIH1dLCAgICAgICAvLyDmnInluo/jgIHml6Dluo/liJfooagKICAgICAgICAgICAgW3sgaW5kZW50OiAiLTEiIH0sIHsgaW5kZW50OiAiKzEiIH1dLCAgICAgICAgICAgIC8vIOe8qei/mwogICAgICAgICAgICBbeyBzaXplOiBbInNtYWxsIiwgZmFsc2UsICJsYXJnZSIsICJodWdlIl0gfV0sICAgLy8g5a2X5L2T5aSn5bCPCiAgICAgICAgICAgIFt7IGhlYWRlcjogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXSB9XSwgICAgICAgICAvLyDmoIfpopgKICAgICAgICAgICAgW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0sICAgICAgICAgICAgIC8vIOWtl+S9k+minOiJsuOAgeWtl+S9k+iDjOaZr+minOiJsgogICAgICAgICAgICBbeyBhbGlnbjogW10gfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5a+56b2Q5pa55byPCiAgICAgICAgICAgIFsiY2xlYW4iXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmuIXpmaTmlofmnKzmoLzlvI8KICAgICAgICAgICAgWyJsaW5rIiwgImltYWdlIiwgInZpZGVvIl0gICAgICAgICAgICAgICAgICAgICAgIC8vIOmTvuaOpeOAgeWbvueJh+OAgeinhumikQogICAgICAgICAgXSwKICAgICAgICB9LAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5YaF5a65IiwKICAgICAgICByZWFkT25seTogdGhpcy5yZWFkT25seSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc3R5bGVzKCkgewogICAgICBsZXQgc3R5bGUgPSB7fTsKICAgICAgaWYgKHRoaXMubWluSGVpZ2h0KSB7CiAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gYCR7dGhpcy5taW5IZWlnaHR9cHhgOwogICAgICB9CiAgICAgIGlmICh0aGlzLmhlaWdodCkgewogICAgICAgIHN0eWxlLmhlaWdodCA9IGAke3RoaXMuaGVpZ2h0fXB4YDsKICAgICAgfQogICAgICByZXR1cm4gc3R5bGU7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5jdXJyZW50VmFsdWUpIHsKICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsID09PSBudWxsID8gIiIgOiB2YWw7CiAgICAgICAgICBpZiAodGhpcy5RdWlsbCkgewogICAgICAgICAgICB0aGlzLlF1aWxsLnBhc3RlSFRNTCh0aGlzLmN1cnJlbnRWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuUXVpbGwgPSBudWxsOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgY29uc3QgZWRpdG9yID0gdGhpcy4kcmVmcy5lZGl0b3I7CiAgICAgIHRoaXMuUXVpbGwgPSBuZXcgUXVpbGwoZWRpdG9yLCB0aGlzLm9wdGlvbnMpOwogICAgICB0aGlzLlF1aWxsLnBhc3RlSFRNTCh0aGlzLmN1cnJlbnRWYWx1ZSk7CiAgICAgIHRoaXMuUXVpbGwub24oInRleHQtY2hhbmdlIiwgKGRlbHRhLCBvbGREZWx0YSwgc291cmNlKSA9PiB7CiAgICAgICAgY29uc3QgaHRtbCA9IHRoaXMuJHJlZnMuZWRpdG9yLmNoaWxkcmVuWzBdLmlubmVySFRNTDsKICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5RdWlsbC5nZXRUZXh0KCk7CiAgICAgICAgY29uc3QgcXVpbGwgPSB0aGlzLlF1aWxsOwogICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gaHRtbDsKICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIGh0bWwpOwogICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHsgaHRtbCwgdGV4dCwgcXVpbGwgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLlF1aWxsLm9uKCJ0ZXh0LWNoYW5nZSIsIChkZWx0YSwgb2xkRGVsdGEsIHNvdXJjZSkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoIm9uLXRleHQtY2hhbmdlIiwgZGVsdGEsIG9sZERlbHRhLCBzb3VyY2UpOwogICAgICB9KTsKICAgICAgdGhpcy5RdWlsbC5vbigic2VsZWN0aW9uLWNoYW5nZSIsIChyYW5nZSwgb2xkUmFuZ2UsIHNvdXJjZSkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoIm9uLXNlbGVjdGlvbi1jaGFuZ2UiLCByYW5nZSwgb2xkUmFuZ2UsIHNvdXJjZSk7CiAgICAgIH0pOwogICAgICB0aGlzLlF1aWxsLm9uKCJlZGl0b3ItY2hhbmdlIiwgKGV2ZW50TmFtZSwgLi4uYXJncykgPT4gewogICAgICAgIHRoaXMuJGVtaXQoIm9uLWVkaXRvci1jaGFuZ2UiLCBldmVudE5hbWUsIC4uLmFyZ3MpOwogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Editor","sourcesContent":["<template>\n    <div class=\"editor\" ref=\"editor\" :style=\"styles\"></div>\n</template>\n\n<script>\nimport Quill from \"quill\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\n\nexport default {\n  name: \"Editor\",\n  props: {\n    /* 编辑器的内容 */\n    value: {\n      type: String,\n      default: \"\",\n    },\n    /* 高度 */\n    height: {\n      type: Number,\n      default: null,\n    },\n    /* 最小高度 */\n    minHeight: {\n      type: Number,\n      default: null,\n    },\n    /* 只读 */\n    readOnly: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  data() {\n    return {\n      Quill: null,\n      currentValue: \"\",\n      options: {\n        theme: \"snow\",\n        bounds: document.body,\n        debug: \"warn\",\n        modules: {\n          // 工具栏配置\n          toolbar: [\n            [\"bold\", \"italic\", \"underline\", \"strike\"],       // 加粗 斜体 下划线 删除线\n            [\"blockquote\", \"code-block\"],                    // 引用  代码块\n            [{ list: \"ordered\" }, { list: \"bullet\" }],       // 有序、无序列表\n            [{ indent: \"-1\" }, { indent: \"+1\" }],            // 缩进\n            [{ size: [\"small\", false, \"large\", \"huge\"] }],   // 字体大小\n            [{ header: [1, 2, 3, 4, 5, 6, false] }],         // 标题\n            [{ color: [] }, { background: [] }],             // 字体颜色、字体背景颜色\n            [{ align: [] }],                                 // 对齐方式\n            [\"clean\"],                                       // 清除文本格式\n            [\"link\", \"image\", \"video\"]                       // 链接、图片、视频\n          ],\n        },\n        placeholder: \"请输入内容\",\n        readOnly: this.readOnly,\n      },\n    };\n  },\n  computed: {\n    styles() {\n      let style = {};\n      if (this.minHeight) {\n        style.minHeight = `${this.minHeight}px`;\n      }\n      if (this.height) {\n        style.height = `${this.height}px`;\n      }\n      return style;\n    },\n  },\n  watch: {\n    value: {\n      handler(val) {\n        if (val !== this.currentValue) {\n          this.currentValue = val === null ? \"\" : val;\n          if (this.Quill) {\n            this.Quill.pasteHTML(this.currentValue);\n          }\n        }\n      },\n      immediate: true,\n    },\n  },\n  mounted() {\n    this.init();\n  },\n  beforeDestroy() {\n    this.Quill = null;\n  },\n  methods: {\n    init() {\n      const editor = this.$refs.editor;\n      this.Quill = new Quill(editor, this.options);\n      this.Quill.pasteHTML(this.currentValue);\n      this.Quill.on(\"text-change\", (delta, oldDelta, source) => {\n        const html = this.$refs.editor.children[0].innerHTML;\n        const text = this.Quill.getText();\n        const quill = this.Quill;\n        this.currentValue = html;\n        this.$emit(\"input\", html);\n        this.$emit(\"on-change\", { html, text, quill });\n      });\n      this.Quill.on(\"text-change\", (delta, oldDelta, source) => {\n        this.$emit(\"on-text-change\", delta, oldDelta, source);\n      });\n      this.Quill.on(\"selection-change\", (range, oldRange, source) => {\n        this.$emit(\"on-selection-change\", range, oldRange, source);\n      });\n      this.Quill.on(\"editor-change\", (eventName, ...args) => {\n        this.$emit(\"on-editor-change\", eventName, ...args);\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.editor, .ql-toolbar {\n  white-space: pre-wrap!important;\n  line-height: normal !important;\n}\n.quill-img {\n  display: none;\n}\n.ql-snow .ql-tooltip[data-mode=\"link\"]::before {\n  content: \"请输入链接地址:\";\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \"保存\";\n  padding-right: 0px;\n}\n\n.ql-snow .ql-tooltip[data-mode=\"video\"]::before {\n  content: \"请输入视频地址:\";\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \"14px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"small\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"small\"]::before {\n  content: \"10px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"large\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"large\"]::before {\n  content: \"18px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"huge\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"huge\"]::before {\n  content: \"32px\";\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \"文本\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: \"标题1\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: \"标题2\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: \"标题3\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: \"标题4\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  content: \"标题5\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  content: \"标题6\";\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \"标准字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"serif\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"serif\"]::before {\n  content: \"衬线字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"monospace\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"monospace\"]::before {\n  content: \"等宽字体\";\n}\n</style>\n"]}]}